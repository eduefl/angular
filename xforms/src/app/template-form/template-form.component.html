<!-- 
  Css Source always use this link to get CSS BOOSTSTRAP
  https://getbootstrap.com/docs/3.4/  
  
  https://www.the-art-of-web.com/html/html5-form-validation/
  
 -->
<form #f="ngForm" (ngSubmit)="onSubmit(f)" class="form-horizontal" >
  <div class="form-group"
    [ngClass]="aplicaCssErro(nome)" 
  >
    <div class="col-sm-12">
      <label 
      for="nome"
      class="control-label">
        Nome
      </label>
    </div>
    <div class="col-sm-12">
      <input type="text" 
        class="form-control"
        id="nome" 
        placeholder="Nome" 
        [ngModel]="usuario.nome"
        name="nome"
        required
        #nome="ngModel"
      >    
      <!--div>
        {{ nome.className }}
      </div!-->
      <app-campo-control-erro
        [mostrarErro] = "verificaValidTouched(nome)"
        msgErro     = "Name is mandatory"
      ></app-campo-control-erro>
    </div>        
  </div>
  <div class="form-group"  
    [ngClass]="aplicaCssErro(email)" 
  >
   <div class="col-sm-12">
      <label 
        for="email"
        class="control-label">
        Email
      </label>
    </div>
    <div class="col-sm-12">
      <input type="email" 
        class="form-control"
        id="email" 
        placeholder="nome@email.com"
        [ngModel]="usuario.email"
        name="email"        
        required
        email = "true"
        pattern="[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*"
        #email ="ngModel"
      >    
      <!--div>
        {{ email.className }}
      </div!-->        

      <app-campo-control-erro
        [mostrarErro] = "verificaValidTouched(email)"
        msgErro     = "Email is not valid"
      ></app-campo-control-erro>
    </div>  

  </div>
  
  <div ngModelGroup="endereco" >
    <div class="form-group"  >

      <div class="col-md-3"
        [ngClass]="aplicaCssErro(cep)" 
      >
        <label for="cep" class="control-label">CEP</label>
        <input
          type="text" 
          class="form-control" 
          id="cep" 
          name="cep"
          ngModel
          required
          #cep = "ngModel"
          (blur)="consultaCep($event.target.value , f)"
        >


        <app-campo-control-erro
          [mostrarErro] = "verificaValidTouched(cep)"
          msgErro     = "Cep is not valid"
        ></app-campo-control-erro>


      
      </div>
      <div class="col-md-3"
        [ngClass]="aplicaCssErro(numero)" 
      >
          <label for="numero" class="control-label">Numero</label>
          <input
            type="text" 
            class="form-control" 
            id="numero" 
            name="numero"
            ngModel
            required
            #numero = "ngModel"
          >
    
        <app-campo-control-erro
          [mostrarErro] = "verificaValidTouched(numero)"
          msgErro     = "number is not valid"
        ></app-campo-control-erro>
    
      </div>   
      <div class="col-md-6">
        <label for="complemento" class="control-label">Complemento</label>
        <input
          type="text" 
          class="form-control" 
          id="complemento" 
          name="complemento"
          ngModel
          #complemento = "ngModel"
        >    
      </div> 
      
    </div>

    <div class="form-group"
      [ngClass]="aplicaCssErro(rua)" 
    >
    <div class="col-sm-12">
      <label 
      for="rua"
      class="control-label">
        Rua
      </label>
    </div>
    <div class="col-sm-12">
      <input type="text" 
        class="form-control"
        id="rua"       
        name="rua"
        ngModel
        required
        #rua= "ngModel"
      >    
      <app-campo-control-erro
        [mostrarErro] = "verificaValidTouched(rua)"
        msgErro     = "Street is not valid"
      ></app-campo-control-erro>


    </div>        
    </div>

    <div class="form-group"  >

      <div class="col-md-5"
        [ngClass]="aplicaCssErro(bairro)" 
      >
        <label for="bairro" class="control-label">Bairro</label>
        <input
          type="text" 
          class="form-control" 
          id="bairro" 
          name="bairro"
          ngModel
          required
          #bairro = "ngModel"
        >
  
  
        <app-campo-control-erro
          [mostrarErro] = "verificaValidTouched(bairro)"
          msgErro     = "Neighborhood  is not valid"
        ></app-campo-control-erro>
    
  
  
      
      </div>
      <div class="col-md-4"
        [ngClass]="aplicaCssErro(cidade)" 
      >
        <label for="cidade" class="control-label">Cidade</label>
        <input
          type="text" 
          class="form-control" 
          id="cidade" 
          name="cidade"
          ngModel
          required
          #cidade = "ngModel"
        >
  
  
        <app-campo-control-erro
          [mostrarErro] = "verificaValidTouched(cidade)"
          msgErro     = "City  is not valid"
        ></app-campo-control-erro>
  
      
      </div>      
      <div class="col-md-3"
        [ngClass]="aplicaCssErro(estado)" 
      >
        <label for="estado" class="control-label">Estado</label>
        <input
          type="text" 
          class="form-control" 
          id="estado" 
          name="estado"
          ngModel
          required
          #estado = "ngModel"
        >
  
  
        <app-campo-control-erro
          [mostrarErro] = "verificaValidTouched(estado)"
          msgErro     = "State  is not valid"
        ></app-campo-control-erro>

      </div>      
    </div>        
  </div>

  
    <button 
      type="submit" 
      class="btn btn-primary"
      [disabled]="!f.valid"
    >
      Submit
    </button>
    <app-form-debug [form] = "f" ></app-form-debug>
    
</form>